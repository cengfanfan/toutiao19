{"remainingRequest":"/Users/xingyanan/Desktop/1218toutiao/19toutiao/node_modules/babel-loader/lib/index.js!/Users/xingyanan/Desktop/1218toutiao/19toutiao/node_modules/eslint-loader/index.js??ref--13-0!/Users/xingyanan/Desktop/1218toutiao/19toutiao/src/utils/request.js","dependencies":[{"path":"/Users/xingyanan/Desktop/1218toutiao/19toutiao/src/utils/request.js","mtime":1577175057016},{"path":"/Users/xingyanan/Desktop/1218toutiao/19toutiao/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/xingyanan/Desktop/1218toutiao/19toutiao/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/xingyanan/Desktop/1218toutiao/19toutiao/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7CmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7CmltcG9ydCB7IE1lc3NhZ2UgfSBmcm9tICJlbGVtZW50LXVpIjsKaW1wb3J0IHJvdXRlciBmcm9tICIuLi9yb3V0ZXIiOwppbXBvcnQgSnNvbkJpZ0ludCBmcm9tICJqc29uLWJpZ2ludCI7CmF4aW9zLmludGVyY2VwdG9ycy5yZXF1ZXN0LnVzZShmdW5jdGlvbiAoY29uZmlnKSB7CiAgdmFyIHRva2VuID0gd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKCd1c2UtdG9rZW4nKTsKICBjb25maWcuaGVhZGVycy5BdXRob3JpemF0aW9uID0gIkJlYXJlciAiLmNvbmNhdCh0b2tlbik7CiAgcmV0dXJuIGNvbmZpZzsKfSwgZnVuY3Rpb24gKGVycikgewogIHJldHVybiBQcm9taXNlLnJlamVjdChlcnIpOwp9KTsKYXhpb3MuZGVmYXVsdHMudHJhbnNmb3JtUmVzcG9uc2UgPSBbZnVuY3Rpb24gKGRhdGEpIHsKICAvLyDlr7kgZGF0YSDov5vooYzku7vmhI/ovazmjaLlpITnkIYKICByZXR1cm4gZGF0YSA/IEpzb25CaWdJbnQucGFyc2UoZGF0YSkgOiB7fTsKfV07CmF4aW9zLmludGVyY2VwdG9ycy5yZXNwb25zZS51c2UoZnVuY3Rpb24gKHJlcykgewogIHJldHVybiByZXMuZGF0YSA/IHJlcy5kYXRhIDoge307Cn0sIGZ1bmN0aW9uIChlcnIpIHsKICB2YXIgc3RhdHVzID0gZXJyLnJlc3BvbnNlLnN0YXR1czsKICB2YXIgbWVzc2FnZSA9ICLmnKrnn6XplJnor68iOwoKICBzd2l0Y2ggKHN0YXR1cykgewogICAgY2FzZSA0MDA6CiAgICAgIG1lc3NhZ2UgPSAn6K+35rGC5Y+C5pWw6ZSZ6K+vJzsKICAgICAgYnJlYWs7CgogICAgY2FzZSA0MDM6CiAgICAgIC8vICAgbWVzc2FnZSA9ICc0MDMgcmVmcmVzaF90b2tlbuacquaQuuW4puaIluW3sui/h+acnycKICAgICAgcm91dGVyLnB1c2goJy4vbG9naW4nKTsKICAgICAgYnJlYWs7CgogICAgY2FzZSA1MDc6CiAgICAgIG1lc3NhZ2UgPSAn5pyN5Yqh5Zmo5pWw5o2u5bqT5byC5bi4JzsKICAgICAgYnJlYWs7CgogICAgY2FzZSA0MDE6CiAgICAgIG1lc3NhZ2UgPSAndG9rZW7ov4fmnJ/miJbmnKrlh7onOwogICAgICB3aW5kb3cubG9jYWxTdG9yYWdlLmNsZWFyKCk7IC8vIOa4heepuue8k+WtmAoKICAgICAgcm91dGVyLnB1c2goJy9sb2dpbicpOyAvLyB0aGlzLiRyb3V0ZXIucHVzaCgpCgogICAgICBicmVhazsKCiAgICBjYXNlIDQwNDoKICAgICAgbWVzc2FnZSA9ICfmiYvmnLrlj7fkuI3mraPnoa4nOwogICAgICBicmVhazsKCiAgICBkZWZhdWx0OgogICAgICBicmVhazsKICB9CgogIE1lc3NhZ2UoewogICAgdHlwZTogJ3dhcm5pbmcnLAogICAgbWVzc2FnZTogbWVzc2FnZQogIH0pOwp9KTsKZXhwb3J0IGRlZmF1bHQgYXhpb3M7"},{"version":3,"sources":["/Users/xingyanan/Desktop/1218toutiao/19toutiao/src/utils/request.js"],"names":["axios","Message","router","JsonBigInt","interceptors","request","use","config","token","window","localStorage","getItem","headers","Authorization","err","Promise","reject","defaults","transformResponse","data","parse","response","res","status","message","push","clear","type"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAAQC,OAAR,QAAsB,YAAtB;AACA,OAAOC,MAAP,MAAmB,WAAnB;AACA,OAAOC,UAAP,MAAuB,aAAvB;AACAH,KAAK,CAACI,YAAN,CAAmBC,OAAnB,CAA2BC,GAA3B,CAA+B,UAASC,MAAT,EAAgB;AAC3C,MAAIC,KAAK,GAAGC,MAAM,CAACC,YAAP,CAAoBC,OAApB,CAA4B,WAA5B,CAAZ;AACAJ,EAAAA,MAAM,CAACK,OAAP,CAAeC,aAAf,oBAAuCL,KAAvC;AACA,SAAOD,MAAP;AACH,CAJD,EAIE,UAASO,GAAT,EAAa;AACX,SAAOC,OAAO,CAACC,MAAR,CAAeF,GAAf,CAAP;AACH,CAND;AAOAd,KAAK,CAACiB,QAAN,CAAeC,iBAAf,GAAiC,CAAC,UAAUC,IAAV,EAAgB;AAChD;AACA,SAAOA,IAAI,GAAEhB,UAAU,CAACiB,KAAX,CAAiBD,IAAjB,CAAF,GAA2B,EAAtC;AAED,CAJgC,CAAjC;AAKAnB,KAAK,CAACI,YAAN,CAAmBiB,QAAnB,CAA4Bf,GAA5B,CAAgC,UAASgB,GAAT,EAAa;AACzC,SAAOA,GAAG,CAACH,IAAJ,GAAWG,GAAG,CAACH,IAAf,GAAsB,EAA7B;AACH,CAFD,EAEE,UAASL,GAAT,EAAa;AACX,MAAIS,MAAM,GAAET,GAAG,CAACO,QAAJ,CAAaE,MAAzB;AACA,MAAIC,OAAO,GAAG,MAAd;;AACA,UAAQD,MAAR;AACI,SAAK,GAAL;AACEC,MAAAA,OAAO,GAAG,QAAV;AACA;;AACF,SAAK,GAAL;AACA;AACAtB,MAAAA,MAAM,CAACuB,IAAP,CAAY,SAAZ;AACE;;AACF,SAAK,GAAL;AACED,MAAAA,OAAO,GAAG,UAAV;AACA;;AACF,SAAK,GAAL;AACEA,MAAAA,OAAO,GAAG,YAAV;AACAf,MAAAA,MAAM,CAACC,YAAP,CAAoBgB,KAApB,GAFF,CAE8B;;AAC5BxB,MAAAA,MAAM,CAACuB,IAAP,CAAY,QAAZ,EAHF,CAGwB;;AACtB;;AACF,SAAK,GAAL;AACED,MAAAA,OAAO,GAAG,QAAV;AACA;;AACF;AACE;AApBN;;AAsBAvB,EAAAA,OAAO,CAAC;AACJ0B,IAAAA,IAAI,EAAC,SADD;AAEJH,IAAAA,OAAO,EAAPA;AAFI,GAAD,CAAP;AAIH,CA/BD;AAiCA,eAAexB,KAAf","sourcesContent":["import axios from \"axios\"\nimport {Message} from \"element-ui\"\nimport router from \"../router\"\nimport JsonBigInt from \"json-bigint\"\naxios.interceptors.request.use(function(config){\n    let token = window.localStorage.getItem('use-token')\n    config.headers.Authorization=`Bearer ${token}`\n    return config\n},function(err){\n    return Promise.reject(err)\n})\naxios.defaults.transformResponse=[function (data) {\n  // 对 data 进行任意转换处理\n  return data? JsonBigInt.parse(data) : {}\n  \n}]\naxios.interceptors.response.use(function(res){\n    return res.data ? res.data : {}\n},function(err){\n    let status =err.response.status;\n    let message = \"未知错误\"\n    switch (status) {\n        case 400:\n          message = '请求参数错误'\n          break\n        case 403:\n        //   message = '403 refresh_token未携带或已过期'\n        router.push('./login')\n          break\n        case 507:\n          message = '服务器数据库异常'\n          break\n        case 401:\n          message = 'token过期或未出'\n          window.localStorage.clear() // 清空缓存\n          router.push('/login') // this.$router.push()\n          break\n        case 404:\n          message = '手机号不正确'\n          break\n        default:\n          break\n      }\n    Message({\n        type:'warning',\n        message\n    })\n})\n\nexport default axios; "]}]}