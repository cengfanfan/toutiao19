{"remainingRequest":"/Users/xingyanan/Desktop/1218toutiao/19toutiao/node_modules/babel-loader/lib/index.js!/Users/xingyanan/Desktop/1218toutiao/19toutiao/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/xingyanan/Desktop/1218toutiao/19toutiao/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/xingyanan/Desktop/1218toutiao/19toutiao/src/views/account_msg/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/xingyanan/Desktop/1218toutiao/19toutiao/src/views/account_msg/index.vue","mtime":1577615843445},{"path":"/Users/xingyanan/Desktop/1218toutiao/19toutiao/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/xingyanan/Desktop/1218toutiao/19toutiao/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/xingyanan/Desktop/1218toutiao/19toutiao/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/xingyanan/Desktop/1218toutiao/19toutiao/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IGV2ZW50QnVzIGZyb20gJy4uLy4uL3V0aWxzL2V2ZW50QnVzJzsKZXhwb3J0IGRlZmF1bHQgewogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBtc2dMaXN0OiB7CiAgICAgICAgaWQ6ICcnLAogICAgICAgIG5hbWU6ICcnLAogICAgICAgIGludHJvOiAnJywKICAgICAgICBwaG90bzogJycsCiAgICAgICAgZW1haWw6ICcnLAogICAgICAgIG1vYmlsZTogJycKICAgICAgfSwKICAgICAgZGlhbG9nOiBmYWxzZSwKICAgICAgaW1hZ2VVcmw6ICcnCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgZ2V0VXNlck1zZzogZnVuY3Rpb24gZ2V0VXNlck1zZygpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHRoaXMuJGF4aW9zKHsKICAgICAgICB1cmw6ICcvdXNlci9wcm9maWxlJwogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBfdGhpcy5tc2dMaXN0ID0gcmVzLmRhdGE7CiAgICAgICAgd2luZG93LmNvbnNvbGUubG9nKHJlcy5kYXRhKTsKICAgICAgfSk7CiAgICB9LAogICAgdXBsb2FkUGhvdG86IGZ1bmN0aW9uIHVwbG9hZFBob3RvKHBhcmFtcykgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHZhciBkYXRhID0gbmV3IEZvcm1EYXRhKCk7CiAgICAgIGRhdGEuYXBwZW5kKCdwaG90bycsIHBhcmFtcy5maWxlKTsKICAgICAgdGhpcy4kYXhpb3MoewogICAgICAgIHVybDogJy91c2VyL3Bob3RvJywKICAgICAgICBtZXRob2Q6ICdwYXRjaCcsCiAgICAgICAgZGF0YTogZGF0YQogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBfdGhpczIuaW1hZ2VVcmwgPSByZXMuZGF0YS5waG90bzsKICAgICAgfSk7CiAgICB9LAogICAgY2hhbmdlUGhvdG86IGZ1bmN0aW9uIGNoYW5nZVBob3RvKCkgewogICAgICB0aGlzLmRpYWxvZyA9IHRydWU7CiAgICB9LAogICAgY2xvc2VDaGFuZ2U6IGZ1bmN0aW9uIGNsb3NlQ2hhbmdlKCkgewogICAgICB0aGlzLmRpYWxvZyA9IGZhbHNlOwogICAgfSwKICAgIGNoYW5nZVN1Y2Nlc3M6IGZ1bmN0aW9uIGNoYW5nZVN1Y2Nlc3MoKSB7CiAgICAgIHRoaXMubXNnTGlzdC5waG90byA9IHRoaXMuaW1hZ2VVcmw7CiAgICAgIHRoaXMuY2xvc2VDaGFuZ2UoKTsKICAgICAgZXZlbnRCdXMuJGVtaXQoJ3VwZGF0YUltZycpOwogICAgfQogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHRoaXMuZ2V0VXNlck1zZygpOwogIH0KfTs="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwEA,OAAA,QAAA,MAAA,sBAAA;AACA,eAAA;AACA,EAAA,IADA,kBACA;AACA,WAAA;AACA,MAAA,OAAA,EAAA;AACA,QAAA,EAAA,EAAA,EADA;AAEA,QAAA,IAAA,EAAA,EAFA;AAGA,QAAA,KAAA,EAAA,EAHA;AAIA,QAAA,KAAA,EAAA,EAJA;AAKA,QAAA,KAAA,EAAA,EALA;AAMA,QAAA,MAAA,EAAA;AANA,OADA;AASA,MAAA,MAAA,EAAA,KATA;AAUA,MAAA,QAAA,EAAA;AAVA,KAAA;AAaA,GAfA;AAgBA,EAAA,OAAA,EAAA;AACA,IAAA,UADA,wBACA;AAAA;;AACA,WAAA,MAAA,CAAA;AACA,QAAA,GAAA,EAAA;AADA,OAAA,EAEA,IAFA,CAEA,UAAA,GAAA,EAAA;AACA,QAAA,KAAA,CAAA,OAAA,GAAA,GAAA,CAAA,IAAA;AACA,QAAA,MAAA,CAAA,OAAA,CAAA,GAAA,CAAA,GAAA,CAAA,IAAA;AACA,OALA;AAMA,KARA;AASA,IAAA,WATA,uBASA,MATA,EASA;AAAA;;AACA,UAAA,IAAA,GAAA,IAAA,QAAA,EAAA;AACA,MAAA,IAAA,CAAA,MAAA,CAAA,OAAA,EAAA,MAAA,CAAA,IAAA;AACA,WAAA,MAAA,CAAA;AACA,QAAA,GAAA,EAAA,aADA;AAEA,QAAA,MAAA,EAAA,OAFA;AAGA,QAAA,IAAA,EAAA;AAHA,OAAA,EAIA,IAJA,CAIA,UAAA,GAAA,EAAA;AACA,QAAA,MAAA,CAAA,QAAA,GAAA,GAAA,CAAA,IAAA,CAAA,KAAA;AACA,OANA;AAOA,KAnBA;AAoBA,IAAA,WApBA,yBAoBA;AACA,WAAA,MAAA,GAAA,IAAA;AACA,KAtBA;AAuBA,IAAA,WAvBA,yBAuBA;AACA,WAAA,MAAA,GAAA,KAAA;AACA,KAzBA;AA0BA,IAAA,aA1BA,2BA0BA;AACA,WAAA,OAAA,CAAA,KAAA,GAAA,KAAA,QAAA;AACA,WAAA,WAAA;AACA,MAAA,QAAA,CAAA,KAAA,CAAA,WAAA;AACA;AA9BA,GAhBA;AAkDA,EAAA,OAlDA,qBAkDA;AACA,SAAA,UAAA;AACA;AApDA,CAAA","sourcesContent":["<template>\n  <div>\n      <el-card style=\"padding:20px\"> \n        <bread-crumb slot=\"header\">\n            <template slot=\"title\">内容列表</template>\n        </bread-crumb>\n        <el-dialog title=\"上传头像\" :visible=\"dialog\" @close=\"closeChange\" width=\"40%\">\n            <el-upload action class=\"dialog\" :http-request=\"uploadPhoto\" :show-file-list=\"false\">\n                <img v-if=\"imageUrl\" :src=\"imageUrl\" class=\"avatar\">\n                <i v-else class=\"el-icon-plus btnIcon\"></i>\n            </el-upload>\n            <el-button>取消</el-button>\n            <el-button @click=\"changeSuccess\">确定</el-button>\n        </el-dialog>\n        <el-row class=\"pic_box\">\n            <el-col :span=\"2\" class=\"msg_box\">\n                <img :src=\"msgList.photo\" alt=\"\">\n                <el-button type=\"text\" class=\"btn\" @click=\"changePhoto\" >更改头像</el-button>\n            </el-col>\n            <el-col :span=\"20\" class=\"text\">\n               \n                    <span>{{msgList.name}}</span>\n                    <span class=\"small\">{{msgList.intro}}</span>\n               \n            </el-col>\n            <el-col :span=\"2\">\n                <el-button type=\"text\">修改</el-button>\n            </el-col>\n            \n        </el-row>\n        <el-divider></el-divider>\n        <el-row>\n            <el-col :span=\"2\">\n                <span>账户信息</span>\n            </el-col>\n            <el-col :span=\"20\">\n                <span style=\"display:inline-block;width:120px\">头条号类型</span>\n                <span>个人</span>\n                <el-divider></el-divider>\n\n                <span style=\"display:inline-block;width:120px\">头条号ID</span>\n                <span>{{msgList.id}}</span>\n            </el-col>\n        </el-row>\n        <el-divider></el-divider>\n        <el-row>\n            <el-col :span=\"2\">\n                <span>登录方式</span>\n            </el-col>\n            \n            <el-col :span=\"20\">\n                <span style=\"display:inline-block;width:120px\">绑定手机</span>\n                <span>{{msgList.mobile}}</span>\n            </el-col>\n        </el-row>  \n        <el-divider></el-divider>\n        <el-row>\n            <el-col :span=\"2\">\n                <span>邮箱</span>\n            </el-col>\n            \n            <el-col :span=\"20\">\n                <span style=\"display:inline-block;width:120px\">{{msgList.email}}</span>\n            </el-col>\n            <el-button type=\"text\">修改邮箱</el-button>\n        </el-row>        \n      </el-card>\n       \n  </div>\n</template>\n\n<script>\nimport eventBus from '../../utils/eventBus'\nexport default {\n    data(){\n        return{\n            msgList:{\n                id:'',\n                name:'',\n                intro:'',\n                photo:'',\n                email:'',\n                mobile:''\n            },\n            dialog:false,\n            imageUrl:'',\n            \n        }\n    },\n    methods:{\n        getUserMsg(){\n            this.$axios({\n                url:'/user/profile',\n            }).then(res=>{\n                this.msgList=res.data\n                window.console.log(res.data)\n            })\n        },\n        uploadPhoto(params){\n            let data = new FormData();\n            data.append('photo',params.file)\n            this.$axios({\n                url:'/user/photo',\n                method:'patch',\n                data\n            }).then((res)=>{\n                this.imageUrl=res.data.photo\n            })\n        },\n        changePhoto(){\n           this.dialog=true\n        },\n        closeChange(){\n            this.dialog=false\n        },\n        changeSuccess(){\n            this.msgList.photo=this.imageUrl;\n            this.closeChange();\n            eventBus.$emit('updataImg')\n        },\n        \n        \n    },\n    created(){\n        this.getUserMsg()\n    }\n\n}\n</script>\n\n<style lang=\"less\" scoped>\n\n    .btnIcon {\n        font-size: 28px;\n        color: #8c939d;\n        width: 178px !important;\n        height: 178px;\n        line-height: 178px;\n        text-align: center;\n    }\n    .dialog {\n        border: 1px dashed #d9d9d9;\n        border-radius: 6px;\n        cursor: pointer;\n        position: relative;\n        width: 178px;\n        overflow: hidden;\n        margin: 0 auto;\n    }\n    .avatar{\n        border: 1px dashed #d9d9d9;\n        border-radius: 6px;\n        cursor: pointer;\n        position: relative;\n        width: 178px;\n        overflow: hidden;\n        margin: 0 auto;\n    }\n\n\n    .pic_box{\n        .msg_box{\n            display: flex;\n            flex-direction: column;\n            img{\n                width: 80px;\n                height: 80px;\n                border-radius: 50%\n            }\n            .btn{\n                display: inline-block;\n                width: 80px;\n                text-align: center\n            }\n        }\n        .text{\n            display: flex;\n            flex-direction: column;\n            .small{\n                font-size: 12px;\n                color: #bbb\n            }\n        }\n        \n    }\n</style>"],"sourceRoot":"src/views/account_msg"}]}