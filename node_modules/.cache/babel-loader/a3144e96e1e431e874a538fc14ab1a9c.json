{"remainingRequest":"/Users/xingyanan/Desktop/1218toutiao/19toutiao/node_modules/babel-loader/lib/index.js!/Users/xingyanan/Desktop/1218toutiao/19toutiao/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/xingyanan/Desktop/1218toutiao/19toutiao/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/xingyanan/Desktop/1218toutiao/19toutiao/src/views/pubAtricles/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/xingyanan/Desktop/1218toutiao/19toutiao/src/views/pubAtricles/index.vue","mtime":1577539789864},{"path":"/Users/xingyanan/Desktop/1218toutiao/19toutiao/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/xingyanan/Desktop/1218toutiao/19toutiao/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/xingyanan/Desktop/1218toutiao/19toutiao/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/xingyanan/Desktop/1218toutiao/19toutiao/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmtleXMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwpleHBvcnQgZGVmYXVsdCB7CiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGluZGV4OiAxLAogICAgICB0eXBlTGlzdDogW10sCiAgICAgIGZvcm1EYXRhOiB7CiAgICAgICAgdGl0bGU6ICcnLAogICAgICAgIGNvbnRlbnQ6ICcnLAogICAgICAgIGNvdmVyOiB7CiAgICAgICAgICB0eXBlOiAtMSwKICAgICAgICAgIGltYWdlczogW10KICAgICAgICB9LAogICAgICAgIGNoYW5uZWxfaWQ6IG51bGwKICAgICAgfSwKICAgICAgcnVsZXM6IHsKICAgICAgICB0aXRsZTogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogJ+agh+mimOS4jeiDveS4uuepuicKICAgICAgICB9LCB7CiAgICAgICAgICBtaW46IDUsCiAgICAgICAgICBtYXg6IDMwLAogICAgICAgICAgbWVzc2FnZTogJ+mVv+W6puWcqCA1IOWIsCAzMCDkuKrlrZfnrKYnCiAgICAgICAgfV0sCiAgICAgICAgY29udGVudDogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogJ+WGheWuueS4jeiDveS4uuepuicKICAgICAgICB9XSwKICAgICAgICBjaGFubmVsX2lkOiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAn6aKR6YGT5LiN6IO95Li656m6JwogICAgICAgIH1dCiAgICAgIH0KICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBjaGFuZ2VQaWM6IGZ1bmN0aW9uIGNoYW5nZVBpYygpIHsKICAgICAgaWYgKHRoaXMuZm9ybURhdGEuY292ZXIudHlwZSA9PT0gMCB8fCB0aGlzLmZvcm1EYXRhLmNvdmVyLnR5cGUgPT09IC0xKSB7CiAgICAgICAgdGhpcy5mb3JtRGF0YS5jb3Zlci5pbWFnZXMgPSBbXTsKICAgICAgfSBlbHNlIGlmICh0aGlzLmZvcm1EYXRhLmNvdmVyLnR5cGUgPT09IDEpIHsKICAgICAgICB0aGlzLmZvcm1EYXRhLmNvdmVyLmltYWdlcyA9IFsnJ107CiAgICAgIH0gZWxzZSBpZiAodGhpcy5mb3JtRGF0YS5jb3Zlci50eXBlID09PSAzKSB7CiAgICAgICAgdGhpcy5mb3JtRGF0YS5jb3Zlci5pbWFnZXMgPSBbJycsICcnLCAnJ107CiAgICAgIH0KICAgIH0sCiAgICBjaGFuZ2VUeXBlOiBmdW5jdGlvbiBjaGFuZ2VUeXBlKCkgewogICAgICB2YXIgcmVzOwogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLmFzeW5jKGZ1bmN0aW9uIGNoYW5nZVR5cGUkKF9jb250ZXh0KSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyOwogICAgICAgICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUuYXdyYXAodGhpcy4kYXhpb3MoewogICAgICAgICAgICAgICAgdXJsOiAnL2NoYW5uZWxzJwogICAgICAgICAgICAgIH0pKTsKCiAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICByZXMgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICAgIHRoaXMudHlwZUxpc3QgPSByZXMuZGF0YS5jaGFubmVsczsKCiAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgbnVsbCwgdGhpcyk7CiAgICB9LAogICAgcHViQXJ0aWNsZTogZnVuY3Rpb24gcHViQXJ0aWNsZShkcmFmdCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS5hc3luYyhmdW5jdGlvbiBwdWJBcnRpY2xlJChfY29udGV4dDIpIHsKICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDI7CiAgICAgICAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS5hd3JhcCh0aGlzLiRyZWZzLnB1YlJ1bGVzLnZhbGlkYXRlKGZ1bmN0aW9uIChpc09rKSB7CiAgICAgICAgICAgICAgICBpZiAoaXNPaykgewogICAgICAgICAgICAgICAgICB2YXIgaWQgPSBfdGhpcy4kcm91dGUucGFyYW1zLmlkOyAvL+S/ruaUueS4juWPkeihqOWQiOWGmQoKICAgICAgICAgICAgICAgICAgX3RoaXMuJGF4aW9zKHsKICAgICAgICAgICAgICAgICAgICBtZXRob2Q6IGlkID8gJ3B1dCcgOiAncG9zdCcsCiAgICAgICAgICAgICAgICAgICAgdXJsOiBpZCA/ICIvYXJ0aWNsZXMvIi5jb25jYXQoaWQpIDogJy9hcnRpY2xlcycsCiAgICAgICAgICAgICAgICAgICAgcGFyYW1zOiB7CiAgICAgICAgICAgICAgICAgICAgICBkcmFmdDogZHJhZnQKICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgIGRhdGE6IF90aGlzLmZvcm1EYXRhCiAgICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgICAgX3RoaXMuJHJvdXRlci5wdXNoKCcvaG9tZS9hdHJpY2xlcycpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0pKTsKCiAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIG51bGwsIHRoaXMpOwogICAgfSwKICAgIGdldEFydGljbGVCeWlkOiBmdW5jdGlvbiBnZXRBcnRpY2xlQnlpZChpZCkgewogICAgICB2YXIgcmVzOwogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLmFzeW5jKGZ1bmN0aW9uIGdldEFydGljbGVCeWlkJChfY29udGV4dDMpIHsKICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgc3dpdGNoIChfY29udGV4dDMucHJldiA9IF9jb250ZXh0My5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDI7CiAgICAgICAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS5hd3JhcCh0aGlzLiRheGlvcyh7CiAgICAgICAgICAgICAgICB1cmw6ICIvYXJ0aWNsZXMvIi5jb25jYXQoaWQpCiAgICAgICAgICAgICAgfSkpOwoKICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgIHJlcyA9IF9jb250ZXh0My5zZW50OwogICAgICAgICAgICAgIHRoaXMuZm9ybURhdGEgPSByZXMuZGF0YTsKCiAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIG51bGwsIHRoaXMpOwogICAgfSwKICAgIGdldFNvbkltZzogZnVuY3Rpb24gZ2V0U29uSW1nKGltZywgaW5kZXgpIHsKICAgICAgLy8gYWxlcnQoJzIyMjIyJytpbWcpCiAgICAgIHRoaXMuZm9ybURhdGEuY292ZXIuaW1hZ2VzID0gdGhpcy5mb3JtRGF0YS5jb3Zlci5pbWFnZXMubWFwKGZ1bmN0aW9uIChpdG0sIGkpIHsKICAgICAgICBpZiAoaSA9PT0gaW5kZXgpIHsKICAgICAgICAgIHJldHVybiBpbWc7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gaXRtOwogICAgICB9KTsKICAgIH0KICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmNoYW5nZVR5cGUoKTsKICAgIHZhciBpZCA9IHRoaXMuJHJvdXRlLnBhcmFtcy5pZDsKICAgIHdpbmRvdy5jb25zb2xlLmxvZyhpZCk7CgogICAgaWYgKGlkKSB7CiAgICAgIHRoaXMuZ2V0QXJ0aWNsZUJ5aWQoaWQpOwogICAgfQogIH0sCiAgd2F0Y2g6IHsKICAgIC8v55uR5o6nJHJvdXRl5Li65LqG6Kej5Yaz5Lik5Liq6Lev55Sx5L2/55So5ZCM5LiA5Liq57uE5Lu255qE6Zeu6aKYCiAgICAkcm91dGU6IGZ1bmN0aW9uICRyb3V0ZSh0bykgewogICAgICBpZiAoT2JqZWN0LmtleXModG8ucGFyYW1zKS5sZW5ndGgpIHsKICAgICAgICB0aGlzLiRnZXRBcnRpY2xlQnlpZCh0by5wYXJhbXMuaWQpOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuZm9ybURhdGEgPSB7CiAgICAgICAgICB0aXRsZTogJycsCiAgICAgICAgICBjb250ZW50OiAnJywKICAgICAgICAgIGNvdmVyOiB7CiAgICAgICAgICAgIHR5cGU6IC0xLAogICAgICAgICAgICBpbWFnZXM6IFtdCiAgICAgICAgICB9LAogICAgICAgICAgY2hhbm5lbF9pZDogbnVsbAogICAgICAgIH07CiAgICAgIH0KICAgIH0gLy/nm5Hmjqdmb3JtRGF0YS5jb3Zlci50eXBl5Li65LqGCiAgICAvLyAiZm9ybURhdGEuY292ZXIudHlwZSI6ZnVuY3Rpb24oKXsKICAgIC8vICAgaWYodGhpcy5mb3JtRGF0YS5jb3Zlci50eXBlPT09MHx8dGhpcy5mb3JtRGF0YS5jb3Zlci50eXBlPT09LTEpewogICAgLy8gICAgIHRoaXMuZm9ybURhdGEuY292ZXIuaW1hZ2VzPVtdCiAgICAvLyAgIH1lbHNlIGlmKHRoaXMuZm9ybURhdGEuY292ZXIudHlwZT09PTEpewogICAgLy8gICAgIHRoaXMuZm9ybURhdGEuY292ZXIuaW1hZ2VzPVsnJ10KICAgIC8vICAgfWVsc2UgaWYgKHRoaXMuZm9ybURhdGEuY292ZXIudHlwZT09PTMpewogICAgLy8gICAgIHRoaXMuZm9ybURhdGEuY292ZXIuaW1hZ2VzPVsnJywnJywnJ10KICAgIC8vICAgfQogICAgLy8gfQoKICB9Cn07"},{"version":3,"sources":["index.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <el-card>\n    <bread-crumb slot=\"header\">\n      <template slot=\"title\">内容列表</template>\n    </bread-crumb>\n    <el-form style=\"margin-left:50px\" label-width=\"100px\" :model=\"formData\" :rules=\"rules\" ref=\"pubRules\">\n      <el-form-item label=\"标题\" prop=\"title\">\n        <el-input style=\"width:60%\" v-model=\"formData.title\"></el-input>\n      </el-form-item>\n      <el-form-item label=\"内容\" prop=\"content\">\n        <el-input type=\"textarea\" :rows=\"4\" v-model=\"formData.content\"></el-input>\n      </el-form-item>\n      <el-form-item label=\"封面\" prop=\"type\">\n        <el-radio-group v-model=\"formData.cover.type\" @change=\"changePic\">\n          <el-radio :label=\"1\">单图</el-radio>\n          <el-radio :label=\"3\">三图</el-radio>\n          <el-radio :label=\"0\">无图</el-radio>\n          <el-radio :label=\"-1\">自动</el-radio>\n        </el-radio-group>\n      </el-form-item>\n      <cover-img :list=\"formData.cover.images\" @getSonImg=\"getSonImg\"></cover-img>\n      <el-form-item label=\"频道\" prop=\"channel_id\">\n            <el-select v-model=\"formData.channel_id\">\n                <el-option v-for=\"itm in typeList\" :key=\"itm.id\" :label=\"itm.name\" :value=\"itm.id\"></el-option>\n            </el-select>\n       </el-form-item>\n      <el-form-item>\n        <el-button type=\"primary\" @click=\"pubArticle(false)\">发布</el-button>\n        <el-button @click=\"pubArticle(true)\">存入草稿</el-button>\n      </el-form-item>\n    </el-form>\n  </el-card>\n</template>\n\n<script>\nexport default {\n    data(){\n        return{\n            index:1,\n            typeList:[],\n            formData:{\n              title:'',\n              content:'',\n              cover:{\n                type:-1,\n                images:[],\n\n              },\n              channel_id:null\n            },\n            rules:{\n              title:[{required:true,message:'标题不能为空'},{min:5,max:30,message:'长度在 5 到 30 个字符'}],\n              content:[{required:true,message:'内容不能为空'}],\n              channel_id:[{required:true,message:'频道不能为空'}]\n            }\n        }\n    },\n   \n    methods:{\n        changePic(){\n          \n              if(this.formData.cover.type===0||this.formData.cover.type===-1){\n                this.formData.cover.images=[]\n              }else if(this.formData.cover.type===1){\n                this.formData.cover.images=['']\n\n              }else if (this.formData.cover.type===3){\n                this.formData.cover.images=['','','']\n              }\n        },\n        async changeType(){\n           let res= await this.$axios({\n                url:'/channels',\n\n            })\n            this.typeList=res.data.channels\n        },\n        async pubArticle(draft){\n          await this.$refs.pubRules.validate((isOk)=>{\n            if(isOk){\n              let {id}=this.$route.params\n              //修改与发表合写\n                this.$axios({\n                  method:id?'put':'post',\n                  url:id?`/articles/${id}`:'/articles',\n                  params:{draft}, \n                   data:this.formData\n                })     \n                this.$router.push('/home/atricles')    \n            }\n          })\n\n        },\n        async getArticleByid(id){\n          let res=await this.$axios({\n            url:`/articles/${id}`,\n            \n          })\n          this.formData=res.data\n        },\n        getSonImg(img,index){\n          // alert('22222'+img)\n          this.formData.cover.images=this.formData.cover.images.map(function(itm,i){\n             if(i===index){\n               return img\n             }\n             return itm\n          })\n          \n        }\n        \n    },\n    created(){\n        this.changeType();\n       let{id} = this.$route.params;\n       window.console.log(id)\n       if(id){\n         this.getArticleByid(id);\n       }\n    },\n    watch:{\n      //监控$route为了解决两个路由使用同一个组件的问题\n      $route:function(to){\n        if(Object.keys(to.params).length){\n          this.$getArticleByid(to.params.id)\n        }else{\n          this.formData={\n              title:'',\n              content:'',\n              cover:{\n                type:-1,\n                images:[],\n\n              },\n              channel_id:null\n            }\n        }\n      },\n      //监控formData.cover.type为了\n      // \"formData.cover.type\":function(){\n      //   if(this.formData.cover.type===0||this.formData.cover.type===-1){\n      //     this.formData.cover.images=[]\n      //   }else if(this.formData.cover.type===1){\n      //     this.formData.cover.images=['']\n\n      //   }else if (this.formData.cover.type===3){\n      //     this.formData.cover.images=['','','']\n      //   }\n      // }\n    }\n};\n</script>\n\n<style>\n</style>"],"sourceRoot":"src/views/pubAtricles"}]}