{"remainingRequest":"/Users/xingyanan/Desktop/1218toutiao/19toutiao/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/xingyanan/Desktop/1218toutiao/19toutiao/src/views/account_msg/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/xingyanan/Desktop/1218toutiao/19toutiao/src/views/account_msg/index.vue","mtime":1577615843445},{"path":"/Users/xingyanan/Desktop/1218toutiao/19toutiao/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/xingyanan/Desktop/1218toutiao/19toutiao/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/xingyanan/Desktop/1218toutiao/19toutiao/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/xingyanan/Desktop/1218toutiao/19toutiao/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBldmVudEJ1cyBmcm9tICcuLi8uLi91dGlscy9ldmVudEJ1cycKZXhwb3J0IGRlZmF1bHQgewogICAgZGF0YSgpewogICAgICAgIHJldHVybnsKICAgICAgICAgICAgbXNnTGlzdDp7CiAgICAgICAgICAgICAgICBpZDonJywKICAgICAgICAgICAgICAgIG5hbWU6JycsCiAgICAgICAgICAgICAgICBpbnRybzonJywKICAgICAgICAgICAgICAgIHBob3RvOicnLAogICAgICAgICAgICAgICAgZW1haWw6JycsCiAgICAgICAgICAgICAgICBtb2JpbGU6JycKICAgICAgICAgICAgfSwKICAgICAgICAgICAgZGlhbG9nOmZhbHNlLAogICAgICAgICAgICBpbWFnZVVybDonJywKICAgICAgICAgICAgCiAgICAgICAgfQogICAgfSwKICAgIG1ldGhvZHM6ewogICAgICAgIGdldFVzZXJNc2coKXsKICAgICAgICAgICAgdGhpcy4kYXhpb3MoewogICAgICAgICAgICAgICAgdXJsOicvdXNlci9wcm9maWxlJywKICAgICAgICAgICAgfSkudGhlbihyZXM9PnsKICAgICAgICAgICAgICAgIHRoaXMubXNnTGlzdD1yZXMuZGF0YQogICAgICAgICAgICAgICAgd2luZG93LmNvbnNvbGUubG9nKHJlcy5kYXRhKQogICAgICAgICAgICB9KQogICAgICAgIH0sCiAgICAgICAgdXBsb2FkUGhvdG8ocGFyYW1zKXsKICAgICAgICAgICAgbGV0IGRhdGEgPSBuZXcgRm9ybURhdGEoKTsKICAgICAgICAgICAgZGF0YS5hcHBlbmQoJ3Bob3RvJyxwYXJhbXMuZmlsZSkKICAgICAgICAgICAgdGhpcy4kYXhpb3MoewogICAgICAgICAgICAgICAgdXJsOicvdXNlci9waG90bycsCiAgICAgICAgICAgICAgICBtZXRob2Q6J3BhdGNoJywKICAgICAgICAgICAgICAgIGRhdGEKICAgICAgICAgICAgfSkudGhlbigocmVzKT0+ewogICAgICAgICAgICAgICAgdGhpcy5pbWFnZVVybD1yZXMuZGF0YS5waG90bwogICAgICAgICAgICB9KQogICAgICAgIH0sCiAgICAgICAgY2hhbmdlUGhvdG8oKXsKICAgICAgICAgICB0aGlzLmRpYWxvZz10cnVlCiAgICAgICAgfSwKICAgICAgICBjbG9zZUNoYW5nZSgpewogICAgICAgICAgICB0aGlzLmRpYWxvZz1mYWxzZQogICAgICAgIH0sCiAgICAgICAgY2hhbmdlU3VjY2VzcygpewogICAgICAgICAgICB0aGlzLm1zZ0xpc3QucGhvdG89dGhpcy5pbWFnZVVybDsKICAgICAgICAgICAgdGhpcy5jbG9zZUNoYW5nZSgpOwogICAgICAgICAgICBldmVudEJ1cy4kZW1pdCgndXBkYXRhSW1nJykKICAgICAgICB9LAogICAgICAgIAogICAgICAgIAogICAgfSwKICAgIGNyZWF0ZWQoKXsKICAgICAgICB0aGlzLmdldFVzZXJNc2coKQogICAgfQoKfQo="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;;AAEA","file":"index.vue","sourceRoot":"src/views/account_msg","sourcesContent":["<template>\n  <div>\n      <el-card style=\"padding:20px\"> \n        <bread-crumb slot=\"header\">\n            <template slot=\"title\">内容列表</template>\n        </bread-crumb>\n        <el-dialog title=\"上传头像\" :visible=\"dialog\" @close=\"closeChange\" width=\"40%\">\n            <el-upload action class=\"dialog\" :http-request=\"uploadPhoto\" :show-file-list=\"false\">\n                <img v-if=\"imageUrl\" :src=\"imageUrl\" class=\"avatar\">\n                <i v-else class=\"el-icon-plus btnIcon\"></i>\n            </el-upload>\n            <el-button>取消</el-button>\n            <el-button @click=\"changeSuccess\">确定</el-button>\n        </el-dialog>\n        <el-row class=\"pic_box\">\n            <el-col :span=\"2\" class=\"msg_box\">\n                <img :src=\"msgList.photo\" alt=\"\">\n                <el-button type=\"text\" class=\"btn\" @click=\"changePhoto\" >更改头像</el-button>\n            </el-col>\n            <el-col :span=\"20\" class=\"text\">\n               \n                    <span>{{msgList.name}}</span>\n                    <span class=\"small\">{{msgList.intro}}</span>\n               \n            </el-col>\n            <el-col :span=\"2\">\n                <el-button type=\"text\">修改</el-button>\n            </el-col>\n            \n        </el-row>\n        <el-divider></el-divider>\n        <el-row>\n            <el-col :span=\"2\">\n                <span>账户信息</span>\n            </el-col>\n            <el-col :span=\"20\">\n                <span style=\"display:inline-block;width:120px\">头条号类型</span>\n                <span>个人</span>\n                <el-divider></el-divider>\n\n                <span style=\"display:inline-block;width:120px\">头条号ID</span>\n                <span>{{msgList.id}}</span>\n            </el-col>\n        </el-row>\n        <el-divider></el-divider>\n        <el-row>\n            <el-col :span=\"2\">\n                <span>登录方式</span>\n            </el-col>\n            \n            <el-col :span=\"20\">\n                <span style=\"display:inline-block;width:120px\">绑定手机</span>\n                <span>{{msgList.mobile}}</span>\n            </el-col>\n        </el-row>  \n        <el-divider></el-divider>\n        <el-row>\n            <el-col :span=\"2\">\n                <span>邮箱</span>\n            </el-col>\n            \n            <el-col :span=\"20\">\n                <span style=\"display:inline-block;width:120px\">{{msgList.email}}</span>\n            </el-col>\n            <el-button type=\"text\">修改邮箱</el-button>\n        </el-row>        \n      </el-card>\n       \n  </div>\n</template>\n\n<script>\nimport eventBus from '../../utils/eventBus'\nexport default {\n    data(){\n        return{\n            msgList:{\n                id:'',\n                name:'',\n                intro:'',\n                photo:'',\n                email:'',\n                mobile:''\n            },\n            dialog:false,\n            imageUrl:'',\n            \n        }\n    },\n    methods:{\n        getUserMsg(){\n            this.$axios({\n                url:'/user/profile',\n            }).then(res=>{\n                this.msgList=res.data\n                window.console.log(res.data)\n            })\n        },\n        uploadPhoto(params){\n            let data = new FormData();\n            data.append('photo',params.file)\n            this.$axios({\n                url:'/user/photo',\n                method:'patch',\n                data\n            }).then((res)=>{\n                this.imageUrl=res.data.photo\n            })\n        },\n        changePhoto(){\n           this.dialog=true\n        },\n        closeChange(){\n            this.dialog=false\n        },\n        changeSuccess(){\n            this.msgList.photo=this.imageUrl;\n            this.closeChange();\n            eventBus.$emit('updataImg')\n        },\n        \n        \n    },\n    created(){\n        this.getUserMsg()\n    }\n\n}\n</script>\n\n<style lang=\"less\" scoped>\n\n    .btnIcon {\n        font-size: 28px;\n        color: #8c939d;\n        width: 178px !important;\n        height: 178px;\n        line-height: 178px;\n        text-align: center;\n    }\n    .dialog {\n        border: 1px dashed #d9d9d9;\n        border-radius: 6px;\n        cursor: pointer;\n        position: relative;\n        width: 178px;\n        overflow: hidden;\n        margin: 0 auto;\n    }\n    .avatar{\n        border: 1px dashed #d9d9d9;\n        border-radius: 6px;\n        cursor: pointer;\n        position: relative;\n        width: 178px;\n        overflow: hidden;\n        margin: 0 auto;\n    }\n\n\n    .pic_box{\n        .msg_box{\n            display: flex;\n            flex-direction: column;\n            img{\n                width: 80px;\n                height: 80px;\n                border-radius: 50%\n            }\n            .btn{\n                display: inline-block;\n                width: 80px;\n                text-align: center\n            }\n        }\n        .text{\n            display: flex;\n            flex-direction: column;\n            .small{\n                font-size: 12px;\n                color: #bbb\n            }\n        }\n        \n    }\n</style>"]}]}